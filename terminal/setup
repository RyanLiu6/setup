#!/bin/bash
set -e

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "Terminal Environment Setup"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""

# Check for macOS
if [[ $(uname) != "Darwin" ]]; then
    echo "âš ï¸  Not on macOS - this setup is designed for macOS only"
    exit 1
fi

echo "ðŸ“¦ Installing terminal tools..."
echo ""

# Install uv via official installer
if ! command -v uv &> /dev/null; then
    echo "  â†’ Installing uv package manager..."
    curl -LsSf https://astral.sh/uv/install.sh | sh
    echo "  âœ“ uv installed successfully"
else
    echo "  âœ“ uv already installed"
fi

# Install fnm
if ! command -v fnm &> /dev/null; then
    echo "  â†’ Installing fnm (Node.js version manager)..."
    brew install fnm
    echo "  âœ“ fnm installed successfully"
else
    echo "  âœ“ fnm already installed"
fi

# Install starship
if ! command -v starship &> /dev/null; then
    echo "  â†’ Installing starship (terminal prompt)..."
    brew install starship
    echo "  âœ“ starship installed successfully"
else
    echo "  âœ“ starship already installed"
fi

# Install zsh-completions
if ! brew list zsh-completions &> /dev/null; then
    echo "  â†’ Installing zsh-completions..."
    brew install zsh-completions
    echo "  âœ“ zsh-completions installed successfully"
else
    echo "  âœ“ zsh-completions already installed"
fi

echo ""
echo "âœ“ Terminal environment setup complete!"
echo ""
